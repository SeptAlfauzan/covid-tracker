(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/Location.8fa9e808.png"},19:function(e,t,a){e.exports=a(47)},24:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),s=(a(24),a(1)),l=a(2),m=a(4),i=a(3),d=a(5),h=(a(6),a(7),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-12 row d-block pt-4 text-center"},r.a.createElement("small",{className:"text-secondary"},"\xa9septa alfauzan"),r.a.createElement("br",null),r.a.createElement("small",{className:"text-secondary"},"Icons made by ",r.a.createElement("a",{className:"text-dark",href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," from ",r.a.createElement("a",{className:"text-dark",href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")),r.a.createElement("br",null),r.a.createElement("small",{className:"text-secondary"},"Illustration made by ",r.a.createElement("a",{className:"text-dark",href:"https://www.ls.graphics/illustrations/clak",title:"Clak"},"Clak")," from ",r.a.createElement("a",{className:"text-dark",href:"https://www.ls.graphics.com/",title:"Is.graphics/illustration"},"www.flaticon.com")))}}]),a}(r.a.Component)),u=(a(9),a(15)),f=a.n(u),p=a(16),v=a.n(p),b=a(18),E=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-12 d-flex center-vertical justify-content-center"},r.a.createElement(b.a,{className:"text-recover-new"}))}}]),a}(r.a.Component),w=a(8),g=a.n(w),N=a(17),y=a.n(N),x=function(e){Object(m.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={country:"",list:[],isLoading:!0,error:!1,summary:[]},a.handleOnchange=a.handleOnchange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.covid19api.com/countries").then((function(e){return e.json()})).then((function(t){e.setState({list:t,isLoading:!1})})).catch((function(t){console.error(t),e.setState({error:!0})})),fetch("https://api.covid19api.com/summary").then((function(e){return e.json()})).then((function(t){e.setState({summary:t.Global,isLoading:!1})})).catch((function(t){console.error(t),e.setState({error:!0})})),g.a.init({startEvent:"DOMContentLoaded"})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.country[0],a=new Date,n=new Date(a-6048e5),r="".concat(n.getFullYear(),"-").concat(("0"+(n.getMonth()+1)).slice(-2),"-").concat(("0"+n.getDate()).slice(-2)),c="".concat(a.getFullYear(),"-").concat(("0"+(a.getMonth()+1)).slice(-2),"-").concat(("0"+a.getDate()).slice(-2));try{this.props.search(t.Slug,r,c)}catch(e){f.a.fire({title:"Oops",text:"You typed invalid country name",icon:"error",confirmButtonText:"Ok, I understand"})}}},{key:"handleOnchange",value:function(e){var t=this.state.list.filter((function(t){return t.Country===e.target.value}));this.setState({country:t})}},{key:"render",value:function(){var e=this,t=this.state.list.map((function(e,t){return r.a.createElement("option",{key:t},e.Country)}));if(this.state.isLoading&&!this.state.error)return r.a.createElement(E,null);if(this.state.error)return r.a.createElement("div",null,"error");var n=a(13);return r.a.createElement("div",{id:"home-container",className:"row col-12 p-md-4 p-0 m-0"},r.a.createElement("div",{className:"col-md-6 col-12 m-0 order-md-2 order-1 "},r.a.createElement("img",{src:v.a,alt:"banner.jpg",className:"col-12 m-0 items-align-start"}),r.a.createElement("div",{className:"col-12 row text-center",id:"desktop-copyright"},r.a.createElement(h,null))),r.a.createElement("div",{className:"order-md-1 order-2 d-flex col-md-6 col-12 m-0 items-align-stretch p-0"},r.a.createElement(y.a,{bottom:!0},r.a.createElement("div",{id:"bg-container-widget",className:"col-12 m-0"},r.a.createElement("div",{id:"text-banner",className:"col-12 mt-md-5 mt-0 p-0"},r.a.createElement("h1",{className:"text-death text-banner"},"Welcome"),r.a.createElement("p",{className:"text-secondary"},"Check latest information about Corona virus"),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},id:"form-search",className:"form-inline search col-12 p-0"},r.a.createElement("div",{className:"form-group col-md-6 col-9 m-0 p-0"},r.a.createElement("input",{required:!0,onChange:this.handleOnchange,autoComplete:"off",list:"country",className:"form-control badge-pill col-12 m-0 border-primary",placeholder:"search country"}),r.a.createElement("datalist",{id:"country"},t)),r.a.createElement("button",{type:"submit",className:"btn btn-primary pl-3 pr-3 mb-2 badge-pill"},"search"))),r.a.createElement("h4",{className:"text-confirm mt-3"},"World summary"),r.a.createElement("div",{className:"col-12 m-0 row p-0"},r.a.createElement("div",{className:"col-md-5 col-6 p-1 d-flex align-items-stretch m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos-anchor-placement":"center-bottom","data-aos-duration":"2000"},r.a.createElement("h5",{className:"text-secondary"},"New Recovered"),r.a.createElement("h5",{className:"text-recover-new text-center"},n(this.state.summary.NewRecovered).format("0,0").replace(",",".")))),r.a.createElement("div",{className:"col-md-7 col-6 p-1 d-flex align-items-stretch m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos-anchor-placement":"center-bottom","data-aos-duration":"2250"},r.a.createElement("h5",{className:"text-secondary"},"Total Recovered"),r.a.createElement("h5",{className:"text-recover text-center"},n(this.state.summary.TotalRecovered).format("0,0").replace(",",".")))),r.a.createElement("div",{className:"col-md-6 col-6 p-1 d-flex align-items-stretch m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos-anchor-placement":"center-bottom","data-aos-duration":"2500"},r.a.createElement("h5",{className:"text-secondary"},"New Death"),r.a.createElement("h5",{className:"text-death-new text-center"},n(this.state.summary.NewDeaths).format("0,0").replace(",",".")))),r.a.createElement("div",{className:"col-md-6 col-6 p-1 d-flex align-items-stretch m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos-anchor-placement":"center-bottom","data-aos-duration":"2750"},r.a.createElement("h5",{className:"text-secondary"},"Total Deaths"),r.a.createElement("h5",{className:"text-death text-center"},n(this.state.summary.TotalDeaths).format("0,0").replace(",",".")))),r.a.createElement("div",{className:"col-md-5 col-12 p-1 m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos-anchor-placement":"center-bottom","data-aos-duration":"3000"},r.a.createElement("h5",{className:"text-secondary"},"New Confirmed"),r.a.createElement("h5",{className:"text-confirm text-center"},n(this.state.summary.NewConfirmed).format("0,0").replace(",",".")))),r.a.createElement("div",{className:"col-md-7 col-12 p-1 m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos-anchor-placement":"center-bottom","data-aos-duration":"3000"},r.a.createElement("h5",{className:"text-secondary"},"Total Confirmed"),r.a.createElement("h5",{className:"text-confirm text-center"},n(this.state.summary.TotalConfirmed).format("0,0").replace(",","."))))),r.a.createElement("div",{className:"col-12 row m-0 p-0",id:"mobile-copyright"},r.a.createElement(h,null))))))}}]),n}(r.a.Component),k=(a(43),a(44)),C=function(e){Object(m.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={isLoading:!0,data:[],dataDates:[],confirmed:0,totalRecovered:0,newRecovered:0,totalDeaths:0,newDeath:0},a.handleBackHome=a.handleBackHome.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.query.country,a=new Date(this.props.query.weekBefore).getTime(),n=new Date(this.props.query.now).getTime();fetch("https://api.covid19api.com/total/country/".concat(t)).then((function(e){return e.json()})).then((function(t){var r=t.filter((function(e){var t=new Date(e.Date.substr(0,10)).getTime();if(a<=t&&t<=n)return e})),c=r.map((function(e){return e.Recovered})),o=r.map((function(e){return e.Deaths})),s=r.map((function(e){return e.Confirmed})),l="",m=r.map((function(e){var t=new Date(e.Date.substr(0,10));return l===t.toString().substring(4,7)?t.toString().substring(8,10):(l=t.toString().substring(4,7),console.log(t.toString().substring(4,10)),t.toString().substring(4,10))})),i=s[s.length-1],d=c[c.length-1],h=o[o.length-1],u=d-c[c.length-2],f=h-o[o.length-2];e.setState({isLoading:!1,data:r,dataDates:m,confirmed:i,totalRecovered:d,newRecovered:u,totalDeaths:h,newDeath:f})}))}},{key:"componentDidUpdate",value:function(){var e=this.node,t=this.state.data.map((function(e){return e.Recovered})),a=this.state.data.map((function(e){return e.Deaths})),n=this.state.data.map((function(e){return e.Confirmed})),r=this.state.dataDates;new k(e,{type:"line",data:{labels:r,datasets:[{label:"Recovered",data:t,borderColor:["#66e9ff"],pointBackgroundColor:"#66e9ff",backgroundColor:"#cff8ff"},{label:"Death",data:a,borderColor:["#ff5ce0"],pointBackgroundColor:"#ff5ce0",backgroundColor:"#ffcff6"},{label:"Confirmed",data:n,borderColor:["#6e7aff"],pointBackgroundColor:"#6e7aff",backgroundColor:"#cfd3ff"}]},options:{scales:{xAxes:[{gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1}}]}}}),g.a.init({startEvent:"DOMContentLoaded"})}},{key:"handleBackHome",value:function(){this.props.resetSearch(!1)}},{key:"render",value:function(){var e=this;if(this.state.isLoading)return r.a.createElement(E,null);var t=a(13);return r.a.createElement("div",{id:"container",className:"col-md-11 m-auto col-12 row p-0"},r.a.createElement("div",{className:"col-md-9 col-12 m-0 p-md-2 p-0 row"},r.a.createElement("div",{id:"chart-container",className:"col-12 m-0 rounded p-0","data-aos":"fade-up"},r.a.createElement("canvas",{style:{width:1500,height:900},ref:function(t){return e.node=t}}))),r.a.createElement("div",{"data-aos":"fade-up","data-aos-anchor-placement":"center-bottom","data-aos-duration":"2500",id:"bg-container-widget",className:"col-md-3 col-12 row m-0 p-0"},r.a.createElement("div",{className:"col-md-6 col-6 p-1 d-flex align-items-stretch m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos":"fade-up","data-aos-anchor-placement":"center-bottom","data-aos-duration":"2000"},r.a.createElement("h5",{className:"text-secondary"},"New Recovered"),r.a.createElement("h1",{className:"text-recover-new text-center"},t(this.state.newRecovered).format("0,0").replace(",",".")))),r.a.createElement("div",{className:"col-md-6 col-6 p-1 d-flex align-items-stretch m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos":"fade-up","data-aos-anchor-placement":"center-bottom","data-aos-duration":"2250"},r.a.createElement("h5",{className:"text-secondary"},"Total Recovered"),r.a.createElement("h1",{className:"text-recover text-center"},t(this.state.totalRecovered).format("0,0").replace(",",".")))),r.a.createElement("div",{className:"col-md-6 col-6 p-1 d-flex align-items-stretch m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos":"fade-up","data-aos-anchor-placement":"center-bottom","data-aos-duration":"2500"},r.a.createElement("h5",{className:"text-secondary"},"New Death"),r.a.createElement("h1",{className:"text-death-new text-center"},t(this.state.newDeath).format("0,0").replace(",",".")))),r.a.createElement("div",{className:"col-md-6 col-6 p-1 d-flex align-items-stretch m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos":"fade-up","data-aos-anchor-placement":"center-bottom","data-aos-duration":"2750"},r.a.createElement("h5",{className:"text-secondary"},"Total Deaths"),r.a.createElement("h1",{className:"text-death text-center"},t(this.state.totalDeaths).format("0,0").replace(",",".")))),r.a.createElement("div",{className:"col-md-12 col-12 p-1 m-0"},r.a.createElement("div",{className:"bg-white shadow-sm col-12 m-0 p-2 rounded","data-aos":"fade-up","data-aos-anchor-placement":"center-bottom","data-aos-duration":"3000"},r.a.createElement("h5",{className:"text-secondary"},"Total Confirmed"),r.a.createElement("h1",{className:"text-confirm text-center"},t(this.state.confirmed).format("0,0").replace(",","."))),r.a.createElement("button",{id:"home-button-lg",onClick:this.handleBackHome,className:"btn btn-primary col-12 m-0"},"back to home")),r.a.createElement("div",{className:"col-12 row d-flex justify-content-center m-0 p-0",id:"mobile-copyright"},r.a.createElement(h,null))),r.a.createElement("button",{id:"home-button-mobile",onClick:this.handleBackHome,className:"btn btn-primary col-12 m-0"},"back to home"),r.a.createElement("div",{className:"col-12 row d-flex justify-content-center m-0 p-0",id:"desktop-copyright"},r.a.createElement(h,null)))}}]),n}(r.a.Component),D=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={searchValue:!1,country:"",weekBefore:"",now:""},n}return Object(l.a)(a,[{key:"handleSearch",value:function(e,t,a){this.setState({country:e,weekBefore:t,now:a,searchValue:!0})}},{key:"handleResetSearch",value:function(e){this.setState({searchValue:e})}},{key:"render",value:function(){var e=this;return this.state.searchValue?r.a.createElement("div",null,r.a.createElement(C,{resetSearch:function(t){return e.handleResetSearch(t)},query:{country:this.state.country,weekBefore:this.state.weekBefore,now:this.state.now}})):r.a.createElement("div",null,r.a.createElement(x,{search:function(t,a,n){return e.handleSearch(t,a,n)}}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){},9:function(e,t,a){}},[[19,1,2]]]);
//# sourceMappingURL=main.cbd2c947.chunk.js.map